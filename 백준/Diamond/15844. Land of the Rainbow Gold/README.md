# [Diamond III] Land of the Rainbow Gold - 15844 

[문제 링크](https://www.acmicpc.net/problem/15844) 

### 성능 요약

메모리: 479444 KB, 시간: 1720 ms

### 분류

자료 구조, 오일러 지표 (χ=V-E+F), 기하학, 퍼시스턴트 세그먼트 트리, 세그먼트 트리

### 제출 일자

2024년 9월 29일 18:38:06

### 문제 설명

<p>A long long time ago, in the Dreamtime, Australia was a flat grid of R rows and C columns and each grid cell was land. The rows were numbered 1 to R from North to South, and the columns were numbered 1 to C from West to East. The cell in row r and column c was denoted as (r, c). One day, the great rainbow serpent rose from the earth at (s<sub>r</sub>, s<sub>c</sub>), and moved across Australia, creating rivers wherever it slid. The serpent made M consecutive moves, each time moving to the cell directly North (N), South (S), East (E) or West (W), turning the cell into river. The cell (s<sub>r</sub>, s<sub>c</sub>) was also turned into river.</p>

<p>Now, millions of years later, you would like to purchase a rectangular block of cells to commemorate the creation of the rivers by the rainbow serpent. You will choose a different colour for each land cell inside your rectangular block. You would like to use as many different colours as possible but insist that every pair of adjacent land cells inside your block share the same colour. Two cells are adjacent if they share an edge. You will not choose a colour for any land cells outside your block, nor will you choose a colour for the river cells inside your block.</p>

<p>Given the moves made by the rainbow serpent, you would like to determine the maximum number of different colours you can choose for land cells in each of Q rectangular blocks of cells.</p>

### 입력 

 Empty

### 출력 

 Empty

