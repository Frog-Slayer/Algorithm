# [Diamond V] 삼원색 - 16682 

[문제 링크](https://www.acmicpc.net/problem/16682) 

### 성능 요약

메모리: 7852 KB, 시간: 148 ms

### 분류

자료 구조, 포함 배제의 원리, 세그먼트 트리, 스위핑

### 제출 일자

2024년 8월 21일 01:17:54

### 문제 설명

<p>x축, y축으로 이루어진 평면 상에 직사각형들이 있다. 민성이는 지금부터 엄청나게 거대한 프린터기를 사용하여 이 평면 상의 직사각형들을 색칠할 것이다.</p>

<p>민성이에게는 3가지 색상 - 시안, 노랑, 그리고 자홍색의 잉크가 있다. 어떤 직사각형 위에는 시안색을 칠하고, 어떤 직사각형 위에는 노랑색, 또 다른 어떤 직사각형 위에는 자홍색을 칠할 수 있다.</p>

<p>어떤 경우에는 서로 다른 2개 이상의 직사각형의 영역이 겹쳐있어, 민성이가 가지고 있는 3가지 잉크의 색깔이 아닌 다른 색깔의 영역이 나타날 수 있다. 다음 그림은 시안, 노랑, 자홍색을 섞었을 때 나타날 수 있는 색깔들이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/d70b979b-3d34-41b9-9ff1-ac9a883796df/-/preview/" style="height: 540px; width: 540px;"><br>
 </p>

<p style="text-align: center;">그림 1: 감산혼합의 3원색 CMYK.</p>

<p style="text-align: center;"> </p>

<p>즉 빨간색은 자홍색과 노란색이, 초록색은 노란색과 시안색이, 파란색은 자홍색과 시안색이, 검은색은 자홍색과 노란색과 시안색이 동일한 비율로 섞인 색이다.</p>

<p>단, 민성이는 잉크를 아끼기 위해 한번 어떤 색깔로 색칠한 곳은 이후에 동일한 색깔의 겹치는 직사각형 영역이 나타나더라도 한번만 칠하기로 했다. 예를 들어서, (0, 0)부터 (2, 2)까지의 영역에 민성이가 노란색을 칠한 후 다시 (1, 1)부터 (3, 3)까지 노란색을 칠해야 하는 상황이 왔다면, (1, 1)부터 (2, 2)까지는 이미 노란색이 색칠되어 있으므로 다시 노란색을 덧칠하지 않는다. 이렇게 되면 3원색이 섞이는 비율이 항상 동일하기 때문에, 민성이가 잉크를 아끼게 됨과 동시에 위 그림에 나오지 않은 색깔이 등장할 일도 없어지게 된다.</p>

<p>당신은 서로 다른 색깔로 칠할 직사각형들이 주어졌을 때, 민성이가 주어진 색깔대로 모두 칠한 후 각 색깔별 영역의 넓이를 민성이가 일일이 색칠하기 전에 미리 구하고자 한다.</p>

### 입력 

 <p>첫 번째 줄에 입력받을 직사각형의 개수 <em>N</em>이 주어진다. (1 ≤ <em>N</em> ≤ 25,000)</p>

<p>두 번째 줄부터 <em>N</em>개의 줄에 걸쳐 각 직사각형의 정보를 나타내는 정수 <em>x1, y1, x2, y2</em>와<em> </em>문자<em> c</em>가 공백으로 구분되어 주어진다. (-10<sup>8</sup> ≤ <em>x1</em> < <em>x2</em> ≤ 10<sup>8</sup>, -10<sup>8</sup> ≤ <em>y1</em> < <em>y2</em> ≤ 10<sup>8</sup>)</p>

<p>이는 해당하는 직사각형이 (<em>x1, y1</em>), (<em>x1, y2</em>), (<em>x2, y2</em>), (<em>x2, y1</em>)를 꼭짓점으로 가지고 <em>c</em>에 해당하는 색깔로 영역을 칠함을 의미한다.</p>

<p>모든 <em>c</em>는 1글자짜리 문자로, “<code>C</code>”(시안), “<code>M</code>”(자홍), “<code>Y</code>”(노랑) 중 하나이다.</p>

### 출력 

 <p>첫 번째 줄에 일곱 개의 정수 <em>S<sub>c</sub>, S<sub>m</sub>, S<sub>y,</sub> S<sub>r</sub>, S<sub>g</sub>, S<sub>b</sub>, S<sub>k</sub></em>을 공백으로 구분하여 출력한다. 각각 시안색 영역의 넓이, 자홍색 영역의 넓이, 노란색 영역의 넓이, 빨간색 영역의 넓이, 초록색 영역의 넓이, 파란색 영역의 넓이, 그리고 검정색 영역의 넓이를 의미한다. (CMY RGB K)</p>

<p>(0,0), (1,0), (1,1), (0,1)을 꼭짓점으로 가지는 직사각형의 넓이는 1이다.</p>

